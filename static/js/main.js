console.log('This site was generated by Hugo with hugo-theme-piatto.');

const button = document.querySelector('[data-collapse-toggle="navbar-default"]');
const menu = document.getElementById('navbar-default');
const themeToggle = document.querySelector('.darkmode-toggle input');

function SetCollpaseButton() {
    if (button && menu) {
        button.addEventListener('click', () => {
            const isExpanded = menu.classList.contains('hidden');
            
            if (!isExpanded) {
                menu.classList.remove('block');
                menu.classList.add('hidden');
            } else {
                menu.classList.remove('hidden');
                menu.classList.add('block');
            }
            
            button.setAttribute('aria-expanded', String(!isExpanded));
        });
    } else {
        throw new Error("Can't find button and menu");
    }
}

function SetThemeToggle() {
    themeToggle.addEventListener('change', function () {
        console.log("check box value changed")
        if (this.checked) {
          localStorage.theme = 'dark';
          document.documentElement.classList.add('dark');
        } else {
          localStorage.theme = 'light';
          document.documentElement.classList.remove('dark');
        }
      });
}